@model IEnumerable<TL13Shop.Models.OrdersByStatusViewModel>

@{
	ViewData["Tittle"] = "Your Orders";
	Layout = "_OrderList";
}



<table class="order-table table mt-5">
	<thead>
		<tr>
			<th scope="col">Product Name</th>
			<th scope="col">Product Image</th>
			<th scope="col">Quantity</th>
			<th scope="col">Total</th>
			<th scope="col">Order Date</th>
			<th scope="col">Action</th>
		</tr>
	</thead>
	<tbody>

		@if (Model.Count() == 0)
		{
			<tr>
				<td colspan="6" class="text-center">No orders found</td>
			</tr>
		}
		else
		{

			@foreach (var item in Model)
			{
				<tr>
					<td>@item.ProductName</td>
					<td><img src="~/@item.ProductImageUrl" alt="@item.ProductName" class="img-fluid" style="width: 100px; height: 100px;" /></td>
					<td>@item.Quantity</td>
					<td>@item.Total</td>
					<td>@item.OrderDate</td>
					<td>
						<button class="btn btn-primary detail-btn" data-orderid="@item.OrderId" data-productid="@item.ProductId" onclick="loadOrderDetails(@item.OrderId, @item.ProductId)">Details</button>
						@if (item.StatusId == 1)
						{
							<a asp-action="CancelOrder" asp-controller="User" asp-route-orderId="@item.OrderId" class="btn btn-danger">Cancel</a>
						}
					</td>
				</tr>
			}
		}
	</tbody>
</table>
